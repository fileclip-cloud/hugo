<iframe
       srcdoc="ğœƒ&nbsp;ì²¨ë¶€íŒŒì¼"   
         style="filter: blur(3px);opacity: 25%;" 
   onload="this.removeAttribute('srcdoc')"      
   src="https://front.fileclip.cloud/iframe/link#18"
  frameborder="0"
  name="__link18"
  scrolling="no" 
  loading="lazy" 
  width="130" height="30"  
  data-iconsrc="" 
  data-btntext="" data-addbtntext=""
  data-btncss=""  data-bg="" data-fg=""

></iframe>
<!--  
  ì•„ë˜ì™€ ê°™ì´ ë²„íŠ¼ì„ ìŠ¤íƒ€ì¼ì´ë‚˜ í‘œì‹œ ì–¸ì–´ì— ë”°ë¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  width="130" height="40"  // ë²„íŠ¼ í‘œì‹œ í¬ê¸°ì— ë§ê²Œ ìˆ˜ì •í•˜ë©´ë©ë‹ˆë‹¤.
  data-iconsrc="https://example/path/image.jpg" // ì•„ì´ì½˜ ì´ë¯¸ì§€ ì£¼ì†Œë¥¼ ì§€ì •í•˜ë©´ ê¸°ë³¸ì•„ì´ì½˜ëŒ€ì‹  í‘œì‹œë©ë‹ˆë‹¤. 
  data-btntext="Attachments"  // ê¸°ë³¸ê°’ì€ ì½˜ì†”-í”„ë ˆì„ì„¤ì •ì—ì„œ ë²„íŠ¼ë¼ë²¨ë¡œ ì§€ì •í•œ ê°’
  data-iconcss="" // ê¸°ë³¸svgì•„ì´ì½˜ì— ì ìš©í•  ìŠ¤íƒ€ì¼ì„. í°ìƒ‰ì•„ì´ì½˜ì€  color:white ë¥¼ ì§€ì •í•˜ë©´ë¨.
  data-addbtntext="Enable Attachments"   //ê¸°ë³¸ê°’ì€ "ì²¨ë¶€ìƒì„±"

  data-btncss="background:#333;padding:3px"  // ë²„íŠ¼ì— ì ìš©í•  css 
  data-bg="#333"   // ë°°ê²½ìƒ‰, ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ìë™ìœ¼ë¡œ í˜ì´ì§€ì—ì„œ ê°€ì ¸ì˜¨ ê°’ì´ ì…ë ¥ë¨   
  data-fg="#333"   // ê¸°ë³¸textìƒ‰ , ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ìë™ìœ¼ë¡œ í˜ì´ì§€ì—ì„œ ê°€ì ¸ì˜¨ ê°’ì´ ì…ë ¥ë¨                                                                                                                                                                                                                                              
-->
<script>
  window.addEventListener("message", function (e) {
    if (!e || !e.source || !e.data || !e.data.from == "ufiframe") return;
    if(!e|| !e.origin|| (e.origin!="https://front.fileclip.cloud" ) ) return ;
    const uf = e.data.uf;

    if (!uf|| uf!= 18 ) return;
    const iframe = document.querySelector('iframe[name="__link18"]');
    if (!iframe)
      return console.log("no frame found");

    if (e.data.echo && uf) {
      const ret = { ...e.data, ...iframe.dataset };
      ret.name = "ret";
     let element=iframe.parentNode;
     const cc=window.getComputedStyle(element);
       if(!ret.fg) ret.fg=cc.color; 
   
      if(!ret.bg) while (element ) {
        const style = window.getComputedStyle(element);
        const bgColor = style.backgroundColor;
             console.log(bgColor);
        if (!/^rgba\(0,\s*0,\s*0,\s*0\)$/.test(bgColor) && bgColor !== 'transparent') {
            ret.bg= bgColor;
          break;
             }
           
        element = element.parentElement;
    }
          
      ret.host =
        document.querySelector('link[rel="canonical"]')?.href ||
        document.querySelector('meta[property="og:url"]')?.content ||
        location.href;
        /// ret.host ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ì²¨ë¶€í´ë”ê°€ ìƒì„±ë©ë‹ˆë‹¤. 
        /// í•˜ë‚˜ì˜ postingì— ì—¬ëŸ¬ê°œì˜ ì£¼ì†Œë¥¼ ê°€ì§€ê³  ìˆë‹¤ë©´ ret.hostì—ëŠ” ëŒ€í‘œurl í•˜ë‚˜ë§Œ ì…ë ¥ë˜ë„ë¡ ìˆ˜ì •í•´ì£¼ì„¸ìš”.

       ret.hideCreateBtn  = location.href.indexOf("##")<0  ; 
       //   ìƒì„±ë²„íŠ¼ì„ ê°€ë¦¬ëŠ” ì¡°ê±´ì…ë‹ˆë‹¤. ì£¼ì†Œì— ## ë¥¼ ë¶™ì´ë©´ ìƒì„±ë²„íŠ¼ì´ í‘œì‹œë©ë‹ˆë‹¤. 
       //ì´ì™€ ë³„ë„ë¡œ shift í‚¤ë¥¼ ëˆ„ë¥´ë©´ ìƒì„±ë²„íŠ¼ì´  í‘œì‹œë©ë‹ˆë‹¤.
      ret.title = document.title;
     
      let evt;
      document.addEventListener('keydown',evt= (event) => {
      if (event.key === 'Shift') {
        ret.name="callback";
        ret.showbtn=1;
        document.removeEventListener('keydown',evt)
        e.source.postMessage(ret, e.origin);
      }
    });

      if (!document.startViewTransition) {
          e.source.postMessage(ret, e.origin);
     iframe.removeAttribute("style");
  

  } else {
     document.startViewTransition(()=>{
    e.source.postMessage(ret, e.origin);
        iframe.style.filter="";
        iframe.style.opacity="";
         
        iframe.removeAttribute("style");
       

    });
  }
    

    }
  });
</script>
